import{u as h,r as d,a as f,R as x,j as e}from"./index-CwMurYek.js";const S=()=>{const i=h(),[a,l]=d.useState({email:"",password:""}),[t,n]=d.useState(!1),[m,s]=d.useState(null),c=o=>{const{name:r,value:u}=o.target;l(p=>({...p,[r]:u})),m&&s(null)},g=()=>a.email.trim()?a.password.trim()?/\S+@\S+\.\S+/.test(a.email)?!0:(s("Please enter a valid email address"),!1):(s("Password is required"),!1):(s("Email is required"),!1);return{formData:a,loading:t,error:m,handleInputChange:c,handleSubmit:async o=>{if(o.preventDefault(),s(null),!!g()){n(!0);try{const r=await f.login(a);r.user&&localStorage.setItem("user",JSON.stringify(r.user)),i(x.DASHBOARD)}catch(r){s(r.message||"Login failed. Please try again.")}finally{n(!1)}}}}},N=()=>{const{formData:i,loading:a,error:l,handleInputChange:t,handleSubmit:n}=S();return e.jsx("div",{className:"login-container",children:e.jsxs("div",{className:"login-card",children:[e.jsx("h1",{className:"login-title",children:"Admin Login"}),e.jsx("p",{className:"login-subtitle",children:"Sign in to access the dashboard"}),e.jsxs("form",{onSubmit:n,className:"login-form",children:[l&&e.jsx("div",{className:"error-message",role:"alert",children:l}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:t,className:"form-input",placeholder:"Enter your email",required:!0,disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:i.password,onChange:t,className:"form-input",placeholder:"Enter your password",required:!0,disabled:a})]}),e.jsx("button",{type:"submit",className:"login-button",disabled:a,children:a?"Signing in...":"Sign In"})]})]})})};export{N as default};
